<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>奇遇匿名聊天网</title>
  <link rel="shortcut icon" href="http://myfollow.top:3000/favicon.ico" />
  <link rel="bookmark" href="http://myfollow.top:3000/favicon.ico" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
  <meta name="renderer" content="webkit"><!-- 启用360浏览器的极速模式(webkit) -->
  <meta name="HandheldFriendly" content="true"><!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
  <meta name="MobileOptimized" content="320"><!-- 微软的老式浏览器 -->
  <meta name="screen-orientation" content="portrait"><!-- uc强制竖屏 -->
  <meta name="x5-orientation" content="portrait"><!-- QQ强制竖屏 -->
  <meta name="full-screen" content="yes"><!-- UC强制全屏 -->
  <meta name="x5-fullscreen" content="true"><!-- QQ强制全屏 -->
  <meta name="browsermode" content="application"><!-- UC应用模式 -->
  <meta name="x5-page-mode" content="app"><!-- QQ应用模式 -->
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.bootcdn.net/ajax/libs/element-ui/2.14.0/theme-chalk/index.min.css" rel="stylesheet">
  <style>

  </style>
</head>
<body>
<div id="app">
  <div>
    <div class="header">
      <span class="match" @click="match"><span v-show="showMatch && !loading">重新匹配</span></span>
      <span id="targetName">{{this.targetName}}</span>
      <span class="leave" @click="leave"><span v-show="!showMatch && !loading">离开</span></span>
    </div>
    <div class="body" :style="bodyStyle" v-loading="loading" @click="emojiVisible = false">
      <div v-if="loading" class="loading-text">长时间匹配不到？刷新试试~</div>
      <div v-if="this.state === 'waiting'" class="edit-name">
        <el-button type="primary" plain @click="editNickName">修改昵称</el-button>
      </div>
      <ul id="messageBox">
      </ul>
    </div>
    <div class="footer">
      <div class="send-emoji" @click="showEmoji"><img src="./images/emoji.png" alt=""></div>
      <input type="text" id="input" :disabled="this.state !== 'done'" placeholder="enter发送" v-model="inputMsg">
      <div id="send">发送</div>
    </div>
    <div class="emoji" v-if="emojiVisible">
      <div class="emoji-inner">
        <img @click="addEmoji(emoji)" class="emoji-item" v-for="(emoji, i) in emojis" :key="i" :src="emojiSrc(emoji)"/>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.9/vue.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/socket.io/3.0.0-rc4/socket.io.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/element-ui/2.14.0/index.min.js"></script>
<script src="./socketMixin.js"></script>
<script src="./emoji.js"></script>
<script src="./createVue.js"></script>

<script>
  window.onload = function () {
    /*720代表设计师给的设计稿的宽度，你的设计稿是多少，就写多少;100代表换算比例，这里写100是
      为了以后好算,比如，你测量的一个宽度是100px,就可以写为1rem,以及1px=0.01rem等等*/
    getRem(360, 100)
  }
  window.onresize = function () {
    getRem(360, 100)
  }

  function getRem(pwidth, prem) {
    var html = document.getElementsByTagName('html')[0]
    var oWidth = document.body.clientWidth || document.documentElement.clientWidth
    html.style.fontSize = oWidth / pwidth * prem + 'px'
  }
</script>
</body>
</html>
